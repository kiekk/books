## 27장 테스팅 패턴

### 자식 테스트

```markdown
지나치게 큰 테스트 케이스를 어떻게 돌아가도록 할 수 있을까?
원래 테스트 케이스의 깨지는 부분에 해당하는 작은 테스트 케이스를 작성하고 그 작은 테스트 케이스가 실행되도록 하라.
그 후에 다시 원래의 큰 테스트 케이스를 추가하라.
빨강/초록/리팩토링 리듬은 성공이 지속되는 데 너무나도 중요해서, 그 리듬을 잃어버릴 것 같은 위기 순간에 부가의 노력으로 리듬을 유지하는 것이 충분히 가치 있다.
```

### 모의 객체

```markdown
비용이 많이 들거나 복잡한 리소스에 의존하는 객체를 테스트하려면 어떻게 해야 할까?
상수를 반환하게끔 만든 속임수 버전의 리소스를 만들면 된다.
...
성능과 견고함 이외에 모의 객체의 또 다른 가치는 가독성에 있다.
당신은 앞서 나온 테스트를 끝에서 끝까지 읽을 수 있다.
만약 사실적인 데이터로 가득 찬 테스트 데이터베이스를 사용한다면, 어떤 쿼리가 결과 14개를 되돌려야 한다고 적은 테스트를 보더라도 도대체 왜 14개가 올바른 답인지 알기가 쉽지 않다.
...
모의 객체는 당신이 모든 객체의 가시성(visibility)에 대해 고민하도록 격려해서, 설계에서 커플링이 감소하도록 한다.
```
