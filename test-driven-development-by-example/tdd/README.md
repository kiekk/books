## TDD 수련법

```markdown
테스트 주도 개발을 잘하려면? 훈련과 경험이 필요합니다.
처음 훈련은 다음 방법을 권한빈다. 이 과정은 '수'에 해당합니다.
- 간단하고 쉬운 문제들을 TDD로 시도합니다. 가능하면 전에 접하고, 프로그래밍해본 문제가 좋습니다.
- 초록 막대 주기는 가능하면 짧도록 합ㄴ디ㅏ. 예를 들어 a=b+3*c를 입력하고자 할 때, a=까지 입력한 시점은 빨간 막대 시점입니다.
  그 시점에서 테스트를 실행하면 분명히 실패(정확히는 에러)할 것이기 때문입니다.
  그 다음에 =b까지 입력하고 테스트를 실행하면 여전히 실패할 것입니다. 그 다음에 +3*c까지 입력하고 테스트를 실행하면 초록 막대가 될 것입니다.
  가능한 빨리 초록 막대가 나오도록 해야 합니다.
- 이때 초록 막대 주기의 최대 시간을 정해놓고 진행하다가 시간을 초과하면 직전 초록 막대 상태로 돌린 다음(그 동안의 코드는 포기하고) 새로 시작하는 것이 좋습니다.
- '진짜로 만들기 전까지만 가짜로 구현하기'를 적극적으로 사용하려고 노력합니다. 가짜로 구현하기는 초록 막대 주기가 짧아지는 가장 간단하고 빠른 방법입니다.
- 같은 문제를 여러번 풀어봅니다. 동일한 프로그램이 나오나요? 무엇이 비슷하고 무엇이 틀린가요? 뭘 배웠나요?
- 초기에는 리팩토링 툴을 사용하지 않는 것이 좋습니다. 초보에겐 순서와 과정이 중요한데 그걸 성큼 건너뛰게 되기 때문입니다.

이제는 다음 방법을 시도해 봅니다. 대략적으로 '파'에 해당한다고 할 수 있습니다.
- 여유를 가지세요. TDD가 꼭 정신없이, 별 생각없이 프로그래밍을 하라는 것은 아닙니다.
  모든 '학습'과 '개선'의 필수적 요소는 자기를 돌아보기(self-reflectivity)와 자기가 생각하는 것을 생각하는 메타인식(meta-cognition)입니다.
  자신이 하는 것을 관조, 관찰하고 기록하고 분석하세요.
  프로토콜 분석(protocol analysis)도 좋은 방법입니다.
  같은 문제를 여러 번 풀어보는 것도 중요합니다.
- 자신이 TDD로는 해보지 않았던 영역을 하나씩 실험해 봅니다. 어려운가요? 왜 어려울까요? 쉬운 방법은 없을까요?
- 보폭을 조절해 봅니다. 잘 된다 싶으면 속도를 높이고 뭔가 안 풀린다 싶으면 바로 속도를 늦추는 훈련을 합니다. 자신이 편한 속도를 찾습니다.
- 작은 애플리케이션 하나를 오로지 TDD로 완성해봅니다. 일주일 정도 걸리는 것이면 좋습니다.
- 다른 언어(가능하다면 다른 패러다임의 언어)로 TDD를 해봅니다. 이전에 많이 풀어봤던 문제를 시도해 봅니다.
  전혀 다른 해를 얻지 못하면 자신의 TDD 방식에 뭔가 문제가 있다는 겁니다. 특히 동적 언어(스몰 토크, 파이썬 등)를 사용해 보는 것이 좋습니다.
  자신이 전혀 생각하지 못헀던 부분까지 중복 제거가 가능합니다. 물론 더 짧은 시간에 말이죠. 생각의 틀을 뒤집어 놓기에 참 좋습니다.

이 단계를 넘어서면 다음 훈련을 해볼 수 있습니다. '리'입니다.
- TDD를 사용하지 않고 같은 문제에 접근해 보세요. 이전에 하던 방식과 뭐가 달라졌나요? TDD를 써서 좋을 때가 있고 안 써서 좋을 때가 있나요?
- TDD와 적절한 초기 설계를 섞어보세요. 어느 정도가 적절한 수준인가요? 어떤 방식으로 디자인하는 것이 좋은가요?
  CRC 카드는 어떤가요? 처음 디자인했던 것이 TDD를 거친 후에 얼마나 달라지나요? 뭐가 그대로 남던가요? 
  어떤 '안 좋은 부분'이 그대로 남나요? 어떤 '좋은 부분'이 그대로 남나요?
- TDD와 함께 다른 방법들을 사용하는 방법을 시도해 보세요. 의도에 의한 프로그래밍, 단계적 개선, 도메인 주도 설계...

여기 소개된 방법들은 무술의 수와도 비슷해서(예컨대 정권 찌르기 경우 느리게 만 번, 빠르게 만 번, 두 가지를 섞어서 만 번을 해보면 많은 것을 체득하게 됩니다)
하나 하나를 오랜 기간을 두고 수련해볼 만 합니다.
그리고 배움의 과정을 수파리 세 단계로 나눠놓기는 했지만, 이것은 방편일 뿐이지, 실제로는 이런 구분이 모호할 뿐만 아니라, 무의미합니다.

TDD 수련에 도움이 되는 문제
- 세계 대학생 프로그래밍 경진대회(ICPC) 문제 등 알고리즘 중심의 문제
- 자동판매기 테스트(인터랙티브 셸(shell) 포함)
- 계산기(인터랙티브 셸 포함)
- 엘리베이터 시뮬레이션(Discreet Event Simulation)
- 웹 게시판
- 멀티 채팅 프로그램

위 문제들을 순수하게 TDD로 풀어보십시오. 분명 좌절감을 느끼게 될 것입니다.
도무지 보폭을 줄이기가 쉽지 않을 것입니다.
어떻게 보폭을 줄일 수 있을까 고민해 보십시오.
일주일 동안 한 문제만 거듭 풀어보십시오.
한 단계 도약할 수 있을 것입니다.
이렇게 저렇게 하면 대충 TDD로 되겠지라고 생각하고 넘어가는 것과 직접 해보는 것은 천지 차이입니다.
TDD를 실무에 적용해 쓰기 위해서는 많은 좌절을 겪어야 합니다.
대부분 이것을 안 하려고 하다보니 TDD를 시늉만 내게 됩니다.
TDD는 겸손하지 못하면 익히기가 매우 어렵다고 생각합니다.
늘 '더 나은 것'이 있을 거라는 마음으로 일신우일신 정진하시길 기원합니다.
```
