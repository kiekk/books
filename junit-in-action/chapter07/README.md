## 7장 목 객체를 활용한 테스트

### 7.1 목 객체 소개하기

```markdown
목 객체(짧게 줄여서는 목이라고도 부른다)는 코드 로직의 일부를 나머지 코드와 격리시켜 테스트하려는 용도에 정확하게 부합한다.
목은 테스트 대상 메서드와 상호작용하는 객체들을 대체하는 격리층으로 동작하는데, 이런 면에서는 스텁과 유사하다고 볼 수 있다.
하지만 유사점은 이걸로 끝! 목은 아무런 로직도 구현하지 않는 빈껍데기일 뿐이며, 
대신 테스트가 더미 클래스(목 객체)의 모든 비즈니스 메서드의 행위를 조작할 수 있는 메서드를 제공한다.
```

#### JUnit 모범 사례: 목 객체 안에서는 비즈니스 로직을 구현하지 말라

```markdown
목 객체를 작성할 때 가장 중요한 주의사항은 절대 비즈니스 로직을 가져서는 안 된다는 것이다.
목은 테스트가 시키는 대로만 수행하는 바보 객체(dumb object)여야 한다.
모든 로직을 담고 있는 스텁과는 정확히 상반되는 특성이다.
여기서 두 가지 결과를 끌어낼 수 있다.
첫째, 목 객체 제작은 아주 쉽다.
...
둘째, 목 객체들은 빈껍데기일 뿐이므로, 문제가 발생할 만큼 복잡하지 않아 테스트도 필요 없다.
```

### 정리

```markdown
작은 단위의 테스트 작성 시 마주치는 주요 장애물 중 하나는 실행 환경에서 자신을 뺴낼 수 있는가이다.
우리는 지금껏 "이 메서드는 실제 환경을 시뮬레이션하기가 너무 어려워서 테스트하지 못했다"는 변명을 많이 들어왔지만, 더이상은 아니다!
대부분의 경우 목 객체 테스트를 작성하면서 긍정적인 부수 효과를 얻는다.
바로 대상 코드의 일부를 더 좋은 방향으로 재작성하도록 이끌어준다는 점이다.
...
목 객체를 이용하려면, 여러분은 코드에 대한 지금까지의 생각을 버리고, 인터페이스와 제어 역전(IoC)과 같은 더 좋은 디자인 패턴을 적용해야 한다.
목 객체는 단위 테스트 기법으로만 취급되기보다는 하나의 설계 기법으로 대접받아야 한다.
```
